<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Loja Oficial Smartwatch</title>

<style>
body {
    font-family: "Segoe UI", Arial, sans-serif;
    margin: 0;
    background: url("https://down-br.img.susercontent.com/file/sg-11134201-7ra3f-m50llz0oztw74f") no-repeat center center fixed;
    background-size: cover;
    color: #1a2a40;
    position: relative;
}
body::before {
    content: "";
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: inherit;
    background-size: cover;
    filter: blur(18px) brightness(0.7);
    z-index: -1;
}

header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px;
    background: #002b55;
    color: white;
    position: relative;
}
header h1 { margin: 0; font-size: 26px; font-weight: bold; }
#usuario-logado { margin-left: 20px; font-weight: bold; font-size: 16px; }
#cart-btn {
    background:#004080; color:white; padding:8px 15px; border:none; border-radius:6px;
    cursor:pointer; font-size:16px; font-weight:bold;
    box-shadow: 0 0 8px #00ffff, 0 0 15px #00bfff;
    transition: all 0.3s ease;
}
#cart-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 0 15px #00ffff, 0 0 30px #00bfff;
}

.container {
    max-width: 1200px; margin: auto; margin-top: 40px; padding: 20px;
    background: rgba(255,255,255,0.85); border-radius: 14px; border: 3px solid #003366;
    box-shadow: 0 0 25px rgba(0, 51, 102, 0.3); backdrop-filter: blur(10px);
}
h2 { text-align: center; color: #002244; font-size: 28px; }

/* BARRA DE PESQUISA */
#search-bar {
    width: 50%; padding: 14px 20px; margin-bottom: 25px;
    border-radius: 12px; border: 2px solid #003366; font-size: 16px;
    outline: none; transition: all 0.3s ease; display: block;
    margin-left: auto; margin-right: auto;
}
#search-bar:focus {
    border-color: #00bfff; box-shadow: 0 4px 12px rgba(0,191,255,0.5);
}

/* PRODUTOS */
.products {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 25px;
    margin-top: 30px;
}
.product {
    background: #f7faff; border-radius: 12px; padding: 20px; border: 2px solid #003366;
    box-shadow: 4px 4px 12px rgba(0,0,0,0.2), inset -2px -2px 6px rgba(255,255,255,0.7);
    transition: all 0.4s ease;
}
.product:hover {
    transform: translateY(-5px) scale(1.05);
    box-shadow: 6px 6px 20px rgba(0, 51, 102, 0.7),
                inset 2px 2px 8px rgba(255,255,255,0.7),
                inset -2px -2px 8px rgba(0,0,0,0.1);
}
.product h3 { color: #002244; }
.dark-blue {
    font-size: 20px; font-weight: bold; transition: all 0.3s ease;
    animation: piscar 2s infinite;
}
@keyframes piscar {
    0% { color: #a8d0ff; } 50% { color: #003366; } 100% { color: #001a33; }
}
.dark-blue:hover {
    text-shadow: 2px 2px 8px rgba(0,0,0,0.5);
    transform: translateY(-2px);
}
.old-price { text-decoration: line-through; color: #777; font-size: 15px; }
.price { color: green; font-size: 22px; font-weight: bold; }
button.add-cart {
    margin-top: 12px; background: #003366; color: white; border: none;
    padding: 12px 18px; cursor: pointer; border-radius: 8px;
    transition: 0.3s; font-size: 16px; font-weight: bold; width: 90%;
}
button.add-cart:hover { background: #004b8d; }

/* CARRINHO */
#cart { position: fixed; right: 20px; top: 70px; width: 350px; background: rgba(255,255,255,0.95);
    border-radius: 14px; border: 3px solid #003366; box-shadow: 0 0 20px rgba(0,0,0,0.3);
    display: none; padding: 20px; z-index: 1000;
}
#cart h2 { margin-top: 0; color: #002244; }
.cart-item { border-bottom: 1px solid #ddd; padding: 10px 0; font-size: 15px; }
.total { font-size: 20px; font-weight: bold; color: #002244; margin-top: 10px; }
.btn-cart { background: #e60000; color: white; border: none; padding: 10px 15px;
    margin-top: 10px; border-radius: 6px; cursor: pointer; font-weight: bold; width: 100%; }
.btn-cart:hover { background: #b30000; }

/* CARROSSEL DE PROPAGANDAS */
#ads { position: relative; max-width: 100%; margin: 30px auto; text-align: center; }
#ads img { width: 100%; max-height: 350px; border-radius: 15px; transition: 0.5s ease-in-out; }
#ad-caption {
    position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%);
    background: rgba(0,0,0,0.6); color: white; padding: 10px 20px;
    border-radius: 10px; font-size: 18px; font-weight: bold; text-align: center; max-width: 90%;
}
#prev-ad, #next-ad {
    position: absolute; top: 50%; transform: translateY(-50%);
    background: rgba(0,0,0,0.5); color: white; font-size: 30px; border: none; cursor: pointer;
    padding: 10px 15px; border-radius: 50%;
}
#prev-ad { left: 10px; }
#next-ad { right: 10px; }
#prev-ad:hover, #next-ad:hover { background: rgba(0,0,0,0.8); }
</style>
</head>
<body>

<header>
    <h1>SMARTWATCH STORE</h1>
    <div id="usuario-logado"></div>
    <button id="cart-btn">üõí Carrinho</button>
</header>

<div class="container">
    <h2>Rel√≥gios Premium em Promo√ß√£o</h2>

    <!-- BARRA DE PESQUISA -->
    <input type="text" id="search-bar" placeholder="Pesquisar produto...">

    <!-- CARROSSEL DE PROPAGANDAS -->
    <div id="ads">
        <img src="https://m.media-amazon.com/images/I/71OWLxOqTPL.jpg" id="ad-img">
        <div id="ad-caption">Rel√≥gio Polar Unite em Promo√ß√£o!</div>
        <button id="prev-ad">&#10094;</button>
        <button id="next-ad">&#10095;</button>
    </div>

    <div class="products">
        <div class="product">
            <a href="polar.html" style="text-decoration:none;">
                <div class="dark-blue">Rel√≥gio Polar Unite</div>
            </a>
            <h3>Monitoramento completo de sa√∫de</h3>
            <p class="old-price">R$ 199,00</p>
            <p class="price">R$ 149,00</p>
            <button class="add-cart" onclick="addToCart('Rel√≥gio Polar Unite', 149)">Adicionar ao Carrinho</button>
        </div>

        <div class="product">
            <a href="garmin.html" style="text-decoration:none;">
                <div class="dark-blue">Garmin Epix Gen 2</div>
            </a>
            <h3>GPS avan√ßado e extrema performance</h3>
            <p class="old-price">R$ 4500,00</p>
            <p class="price">R$ 3599,99</p>
            <button class="add-cart" onclick="addToCart('Garmin Epix Gen 2', 3599.99)">Adicionar ao Carrinho</button>
        </div>

        <div class="product">
            <a href="ultra.html" style="text-decoration:none;">
                <div class="dark-blue">Ultra AI 3 5G</div>
            </a>
            <h3>Chip 5G e resist√™ncia extrema</h3>
            <p class="old-price">R$ 499,00</p>
            <p class="price">R$ 349,00</p>
            <button class="add-cart" onclick="addToCart('Ultra AI 3 5G', 349)">Adicionar ao Carrinho</button>
        </div>
    </div>
</div>

<div id="cart">
    <h2>Seu Carrinho</h2>
    <div id="cart-items"></div>
    <p class="total">Total: R$ <span id="total">0</span></p>
    <button class="btn-cart" onclick="finalizarCompra()">Finalizar Compra</button>
</div>

<script>
// CARRINHO
let cart = [];
let total = 0;
const cartBtn = document.getElementById("cart-btn");
const cartBox = document.getElementById("cart");

let nomeUsuario = localStorage.getItem("usuarioLogado");
if(nomeUsuario){
    document.getElementById("usuario-logado").innerText = "Ol√°, " + nomeUsuario;
}

cartBtn.addEventListener("click", () => {
    cartBox.style.display = cartBox.style.display === "block" ? "none" : "block";
});

function addToCart(product, price) {
    cart.push({ product, price });
    total += price;
    updateCart();
    cartBox.style.display = "block";
}
function updateCart() {
    const cartDiv = document.getElementById("cart-items");
    cartDiv.innerHTML = "";
    cart.forEach((item, index) => {
        cartDiv.innerHTML += `<div class="cart-item">
            ${item.product} - R$ ${item.price.toFixed(2)}
            <button class="btn-cart" onclick="removeItem(${index})">X</button>
        </div>`;
    });
    document.getElementById("total").innerText = total.toFixed(2);
}
function removeItem(index) {
    total -= cart[index].price;
    cart.splice(index, 1);
    updateCart();
}
function finalizarCompra() {
    if(cart.length === 0){
        alert("Seu carrinho est√° vazio!");
        return;
    }
    localStorage.setItem("carrinho", JSON.stringify(cart));
    localStorage.setItem("total", total.toFixed(2));
    window.location.href = "finalizar.html";
}

// FILTRAR PRODUTOS
const searchBar = document.getElementById("search-bar");
const products = document.querySelectorAll(".product");
searchBar.addEventListener("input", () => {
    const searchValue = searchBar.value.toLowerCase();
    products.forEach(product => {
        const productName = product.querySelector(".dark-blue").textContent.toLowerCase();
        product.style.display = (productName.includes(searchValue) || searchValue === "") ? "block" : "none";
    });
});

// CARROSSEL DE PROPAGANDAS
const adImages = [
    "https://m.media-amazon.com/images/I/71OWLxOqTPL.jpg",
    "https://encrypted-tbn0.gstatic.com/shopping?q=tbn:ANd9GcSV2o9J6yZbamu7JH72Aqq-VDW2t6_5CM3wdwb6TtK7BQJxhk4y0H4g2gDWYmdOBHnpC4TO91cLIBiZJ8z6_uaGN3J2FGCPx-xrTsvL_MZZKYhrBqrY2cBBiuk",
    "https://down-br.img.susercontent.com/file/sg-11134201-7ra3f-m50llz0oztw74f"
];
const adCaptions = [
    "Rel√≥gio Polar Unite em Promo√ß√£o!",
    "Garmin Epix Gen 2 com GPS avan√ßado!",
    "Ultra AI 3 5G ‚Äì Chip 5G e resist√™ncia extrema"
];

let adIndex = 0;
const adImgElement = document.getElementById("ad-img");
const adCaptionElement = document.getElementById("ad-caption");

function showAd(index) {
    adImgElement.style.opacity = 0;
    adCaptionElement.style.opacity = 0;
    setTimeout(() => {
        adImgElement.src = adImages[index];
        adCaptionElement.textContent = adCaptions[index];
        adImgElement.style.opacity = 1;
        adCaptionElement.style.opacity = 1;
    }, 500);
}

document.getElementById("prev-ad").addEventListener("click", () => {
    adIndex = (adIndex - 1 + adImages.length) % adImages.length;
    showAd(adIndex);
});
document.getElementById("next-ad").addEventListener("click", () => {
    adIndex = (adIndex + 1) % adImages.length;
    showAd(adIndex);
});

// Troca autom√°tica a cada 5 segundos
setInterval(() => {
    adIndex = (adIndex + 1) % adImages.length;
    showAd(adIndex);
}, 5000);
</script>

</body>
</html>
